/**
* jquery asDropdown v0.2.1
* https://github.com/amazingSurge/jquery-asDropdown
*
* Copyright (c) amazingSurge
* Released under the LGPL-3.0 license
*/
!function(e,t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("undefined"!=typeof exports)t(require("jquery"));else{var i={exports:{}};t(e.jQuery),e.jqueryAsDropdownEs=i.exports}}(this,function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=t(e),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),o={namespace:"asDropdown",skin:null,panel:"+",clickoutHide:!0,imitateSelect:!1,select:null,data:"value",onInit:null,onShow:null,onHide:null,onChange:null},l="asDropdown",r=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.element=t,this.$element=(0,s.default)(t),this.$parent=this.$element.parent();var a=[];s.default.each(this.$element.data(),function(e,t){var i=new RegExp("^asDropdown","i");i.test(e)&&(a[e.toLowerCase().replace(i,"")]=t)}),this.options=s.default.extend({},o,n,a),this.namespace=this.options.namespace,this.classes={skin:this.namespace+"_"+this.options.skin,show:this.namespace+"_show",trigger:this.namespace+"-trigger",mask:this.namespace+"-mask",wrapper:this.namespace+"-wrapper",panel:this.namespace+"-panel",disabled:this.namespace+"_disabled"},null!==this.options.skin&&this.$element.addClass(this.classes.skin),this.$children=this.$element.children(),this.$panel=this._parse(this.options.panel),this.isShow=!1,this.disabled=!1,this.initialized=!1,this._trigger("init"),this.init()}return a(e,[{key:"init",value:function(){var e=this;this.$parent.addClass(this.classes.wrapper),this.$element.addClass(this.namespace).addClass(this.classes.trigger),this.$panel.addClass(this.classes.panel),this.$element.on(this.eventName("click"),function(){return e.toggle(),!1}),this.$panel.on(this.eventName("click"),"li",function(){return e.set((0,s.default)(this).data(e.options.data)),e.hide(),!1}),null!==this.options.select&&this.set(this.options.select),this._trigger("ready"),this.initialized=!0}},{key:"_trigger",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var n=[this].concat(i);this.$element.trigger(l+"::"+e,n),e=e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)});var a="on"+e;"function"==typeof this.options[a]&&this.options[a].apply(this,i)}},{key:"eventName",value:function(e){if("string"!=typeof e||""===e)return"."+this.options.namespace;e=e.split(" ");for(var t=e.length,i=0;i<t;i++)e[i]=e[i]+"."+this.options.namespace;return e.join(" ")}},{key:"show",value:function(){var e=this;this.disabled||(this.options.clickoutHide&&this._generateMask(),(0,s.default)(window).on(this.eventName("resize"),function(){return e._position(),!1}),this.isShow=!0,this.$element.addClass(this.classes.show),this.$panel.addClass(this.classes.show),this._position(),this._trigger("show"))}},{key:"hide",value:function(){this.isShow=!1,this.options.clickoutHide&&this._clearMask(),this.$element.removeClass(this.classes.show),this.$panel.removeClass(this.classes.show),(0,s.default)(document).off(this.eventName("mousedown")),this._trigger("hide")}},{key:"set",value:function(e){var t=this;if(this.options.imitateSelect){var i=function(){var i=null,n=t;return n.$panel.children().each(function(){(0,s.default)(this).data(n.options.data)===e&&(i=(0,s.default)(this),n.value=e)}),i?(t.$element.text(i.text()),void(t.$children.length&&t.$children.appendTo(t.$element))):{v:void 0}}();if("object"===("undefined"==typeof i?"undefined":n(i)))return i.v}this.initialized&&this._trigger("change",e)}},{key:"_generateMask",value:function(){var e=this;this.$mask=(0,s.default)("<div></div>").addClass(this.classes.mask).show().appendTo("body"),this.$mask.on(this.eventName("click"),function(){return e.hide(),!1})}},{key:"_clearMask",value:function(){this.$mask&&(this.$mask.off(this.eventName()),this.$mask.remove(),this.$mask=null)}},{key:"toggle",value:function(){this.isShow?this.hide():this.show()}},{key:"_position",value:function(){var e=this.$element.offset(),t=this.$element.outerHeight(),i=this.$element.outerWidth(),n=this.$panel.outerWidth(!0),a=this.$panel.outerHeight(!0),o=void 0,l=void 0;o=a+t+e.top>(0,s.default)(window).height()+(0,s.default)(window).scrollTop()?-a:t,l=n+e.left>(0,s.default)(window).width()+(0,s.default)(window).scrollLeft()?i-n:0,this.$panel.css({position:"absolute",top:o,left:l})}},{key:"_parse",value:function(e){return e.includes("+")?this.$element.next():(0,s.default)(this.options.panel)}},{key:"get",value:function(){return this.value}},{key:"update",value:function(e){this.$panel.html(e)}},{key:"enable",value:function(){this.disabled=!1,this.$wrapper.removeClass(this.classes.disabled)}},{key:"disable",value:function(){this.disabled=!0,this.$wrapper.addClass(this.classes.disabled)}},{key:"destroy",value:function(){this.hide(),this.$element.off(this.eventName()),this.$element.remove(),(0,s.default)(window).off(this.eventName())}}],[{key:"setDefaults",value:function(e){s.default.extend(o,s.default.isPlainObject(e)&&e)}}]),e}(),h={version:"0.2.1"},u="asDropdown",d=s.default.fn.asDropdown,f=function(e){for(var t=this,i=arguments.length,a=Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if("string"==typeof e){var l=function(){var i=e;if(/^_/.test(i))return{v:!1};if(!/^(get)/.test(i))return{v:t.each(function(){var e=s.default.data(this,u);e&&"function"==typeof e[i]&&e[i].apply(e,a)})};var n=t.first().data(u);return n&&"function"==typeof n[i]?{v:n[i].apply(n,a)}:void 0}();if("object"===("undefined"==typeof l?"undefined":n(l)))return l.v}return this.each(function(){(0,s.default)(this).data(u)||(0,s.default)(this).data(u,new r(this,e))})};s.default.fn.asDropdown=f,s.default.asDropdown=s.default.extend({setDefaults:r.setDefaults,noConflict:function(){return s.default.fn.asDropdown=d,f}},h)});